<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Our Offices - LogiTrace</title>
    <div th:replace="~{layout/common-layout :: head-content}"></div>

    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link rel="stylesheet" th:href="@{/css/offices-public.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
</head>
<body>

<div th:replace="~{layout/common-layout :: navigation}"></div>

<div class="main-content-wrapper">
    <main class="main-container">

        <div style="text-align: center; margin-bottom: 2rem; margin-top: 1rem;">
            <h1 class="page-title">Find a Location Near You</h1>
            <p class="page-description">Explore our network of offices for quick sending and receiving.</p>
        </div>

        <div id="map"></div>

        <div class="header-actions" style="margin-bottom: 1rem; text-align: center">
            <h2 style="font-size: 1.5rem; color: var(--color-text);">Available Offices</h2>
        </div>

        <div class="content-grid" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 1.5rem;">
            <div th:each="office : ${offices}"
                 class="card office-card"
                 style="flex: 0 1 400px; min-width: 300px;">
                <div>
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 1rem;">
                        <div style="background-color: #f3f4f6; padding: 8px; border-radius: 8px;">
                            <i class="fa-solid fa-building" style="color: #4b5563;"></i>
                        </div>
                        <h3 class="card-title" style="margin: 0; font-size: 1.2rem;" th:text="${office.name}">Office Name</h3>
                    </div>
                    <p class="card-description" style="margin-bottom: 1rem;">
                        <i class="fa-solid fa-location-dot" style="color: #ef4444; width: 20px;"></i>
                        <span th:text="${office.address}">Address goes here</span>
                    </p>
                </div>

                <button class="button button-secondary"
                        style="width: 100%; justify-content: center; margin-top: auto; color: #1f2937; background-color: #e5e7eb; border: 1px solid #d1d5db; font-weight: 600;"
                        th:data-name="${office.name}"
                        th:data-address="${office.address}"
                        onclick="focusOnOffice(this.getAttribute('data-name'), this.getAttribute('data-address'))">
                    <i class="fa-solid fa-crosshairs"></i> Show on Map
                </button>
            </div>

            <div th:if="${#lists.isEmpty(offices)}" class="card" style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                <i class="fa-solid fa-city" style="font-size: 3rem; color: #d1d5db; margin-bottom: 1rem;"></i>
                <h3>No offices found.</h3>
            </div>
        </div>

        <div class="info-section">
            <div style="text-align: center; margin-bottom: 2rem;">
                <h2 style="font-size: 1.8rem; color: var(--color-text);">Why Visit Our Offices?</h2>
                <p style="color: #6b7280;">More than just a drop-off point. Experience premium service.</p>
            </div>

            <div class="services-grid">
                <div class="service-item">
                    <div class="service-icon"><i class="fa-solid fa-box-open"></i></div>
                    <div>
                        <h4 style="margin: 0 0 0.5rem 0; color: var(--color-text);">Free Packaging</h4>
                        <p style="margin: 0; font-size: 0.9rem; color: #6b7280;">
                            We provide free eco-friendly packaging materials for small to medium items on site.
                        </p>
                    </div>
                </div>

                <div class="service-item">
                    <div class="service-icon"><i class="fa-solid fa-scale-balanced"></i></div>
                    <div>
                        <h4 style="margin: 0 0 0.5rem 0; color: var(--color-text);">Express Weighing</h4>
                        <p style="margin: 0; font-size: 0.9rem; color: #6b7280;">
                            Get your package weighed and priced in seconds with our automated counter stations.
                        </p>
                    </div>
                </div>

                <div class="service-item">
                    <div class="service-icon"><i class="fa-solid fa-user-shield"></i></div>
                    <div>
                        <h4 style="margin: 0 0 0.5rem 0; color: var(--color-text);">Secure Storage</h4>
                        <p style="margin: 0; font-size: 0.9rem; color: #6b7280;">
                            Can't pick up today? We hold your packages securely for up to 7 days free of charge.
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </main>
</div>

<div th:replace="~{layout/common-layout :: footer}"></div>
<script th:src="@{/js/theme.js}"></script>
<script th:src="@{/js/menu.js}"></script>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>

<script th:inline="javascript">
    window.officesData = /*[[${offices}]]*/ [];
</script>

<script th:src="@{/js/offices.js}"></script>

</body>
</html>